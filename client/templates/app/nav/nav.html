<template name="nav">
  <nav>
    {{> sidenav}}
    <div class="nav-wrapper">
      <ul class="left">
        <li><a href="#" data-activates="slide-out" class="button-collapse show-on-large"><i class="material-icons">menu</i></a></li>
      </ul>
      <ul class="right">
        {{#if currentUser}}
          {{> notificationsButton}}
          {{> userDropdown}}
        {{/if}}
      </ul>
    </div>
  </nav>
</template>

<template name="sidenav">
  <ul id="slide-out" class="side-nav">
    <li id="logo-container">
      <a id="logo" href="{{pathFor 'initiatives'}}">Cherish</a>
    </li>
    <!-- Removing this for now, as it serves no purpose -->
    <!--<li><a href="{{pathFor 'about'}}">About</a></li>-->
    {{#if currentUser }}
      <li><a href="{{pathFor 'profile'}}">My Profile</a></li>
      <li><a class="logout" href="#">Sign out</a></li>
    {{else}}
      <li><a href="{{pathFor 'login'}}">Sign in</a></li>
      <li><a href="{{pathFor 'signup'}}">Register</a></li>
    {{/if}}
  </ul>
</template>

<template name="userDropdown">
  <li class="user-profile">
    <ul id="profile-dropdown" class="dropdown-content">
      <li><a href="{{pathFor 'profile'}}"><i class="material-icons tiny">account_circle</i> My profile</a></li>
      <li><a href="{{pathFor 'initiatives.mine'}}"><i class="material-icons tiny">favorite</i> My Initiatives</a></li>
      <li class="divider"></li>
      <li><a class="logout" href="#"><i class="material-icons tiny">lock_open</i> Sign out</a></li>
    </ul>
    <a class="dropdown-button" href="#!" data-activates="profile-dropdown">
      <img src="{{avatar}}" class="circle responsive-img" alt="" width="30" height="30">
      <span class="user-profile--name">
        {{currentUser.profile.name}}
      </span>
      <i class="material-icons tiny right">arrow_drop_down</i>
    </a>
  </li>
</template>